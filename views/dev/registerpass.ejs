<!DOCTYPE html>
<html lang="en">
<head>
    <title>DMC</title>
    <% include ../partials/head %>
</head>
<body onkeydown="down(event)" onkeyup="up(event)">
<% include ../partials/header %>
<div class="container"><div class="row">
    <div class="col-xs-offset-4 col-xs-4"><h1>RYCODE</h1></div>
    <div class="col-xs-offset-4 col-xs-4"><h2>Username :<%=username%></h2></div>
</div></div>
<% include ../partials/footer %>
<script>
    var a = 0;
    var t =[];
    function down(event) {

    }
    function up(event) {

        if(event.keyCode!=13)
            t.push(event.keyCode);
        else {
            if(t.length==0)
                    return;
            window.alert("Entered");
            post("<%=baseURL%>/admin/registerpass/<%=username%>", t, "POST");
        }
    }
    function post(path, params, method) {
        method = method || "post"; // Set method to post by default if not specified.

        // The rest of this code assumes you are not using a library.
        // It can be made less wordy if you use one.
        var form = document.createElement("form");
        form.setAttribute("method", method);
        form.setAttribute("action", path);

        for(var key in params) {
            console.log(key +" : "+ params[key]);
            if(params.hasOwnProperty(key)) {
                var hiddenField = document.createElement("input");
                hiddenField.setAttribute("type", "hidden");
                hiddenField.setAttribute("name", key);
                hiddenField.setAttribute("value", params[key]);

                form.appendChild(hiddenField);
            }
        }

        document.body.appendChild(form);
        form.submit();
    }

</script>
</body>
</html>